<%= form_with(model: friend) do |form| %>
  <% if friend.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(friend.errors.count, "er_ror") %> prohibited this friend from being saved:</h2>

      <ul>
        <% friend.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field form-group">
    <%= form.label :first_name %>
    <%= form.text_field :first_name, class:"form-control" %>
  </div>

  <div class="field form-group">
    <%= form.label :last_name%>
    <%= form.text_field :last_name, class:"form-control"%>
  </div>

  <div class="field form-group">
    <%= form.label :email%>
    <%= form.text_field :email, class:"form-control" %>
  </div>

  <div class="field form-group">
    <%= form.label :twitter%>
    <%= form.text_field :twitter, class:"form-control" %>
  </div>

  <div class="blogs-container container">

  </div>

  </br>
  <button type="button" value="Add form" onclick="addForm()" class="btn btn-secondary">Add New Blog</button>
  <br>
  <br>
  <div class="mb-3">
    <%= form.submit "Save", class: "btn btn-success", onclick: 'resetForm()' %>
  </div>

<% end %>


<script>

    var formCount = 0

    function addForm() {
        const blogContainer = document.querySelector('.blogs-container')
        const inputContainer = document.createElement('div')
        inputContainer.setAttribute('class', 'mb-3')

        const formNo = document.createElement("h3")
        formNo.appendChild(document.createTextNode(`Blog Form`))

        // title
        const titleInputLabel = document.createElement("label")
        titleInputLabel.setAttribute('class', 'form-label')
        titleInputLabel.setAttribute('for', `title${formCount}`)
        titleInputLabel.appendChild(document.createTextNode("Title"))
        const titleInput = document.createElement('input')
        titleInput.setAttribute('type', 'text')
        titleInput.setAttribute('name', `blogs[blog${formCount}[title]]`)
        titleInput.setAttribute('class', 'form-control')
        titleInput.setAttribute('id', "title")

        // content
        const contentInputLabel = document.createElement("label")
        contentInputLabel.setAttribute('class', 'form-label')
        contentInputLabel.setAttribute('for', `content${formCount}`)
        contentInputLabel.appendChild(document.createTextNode("Content"))
        const contentInput = document.createElement('textarea')
        contentInput.setAttribute('type', 'text')
        contentInput.setAttribute('name', `blogs[blog${formCount}[content]]`)
        contentInput.setAttribute('class', 'form-control')
        contentInput.setAttribute('id', `content${formCount}`)

        inputContainer.append(formNo, titleInputLabel, titleInput, contentInputLabel, contentInput)

        blogContainer.appendChild(inputContainer)

        formCount++

    }
</script>